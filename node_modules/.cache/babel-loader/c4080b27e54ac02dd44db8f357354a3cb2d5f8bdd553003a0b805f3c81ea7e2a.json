{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/AnamBasheer/Desktop/Web Development/16_webwiz_react_proj/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/AnamBasheer/Desktop/Web Development/16_webwiz_react_proj/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/AnamBasheer/Desktop/Web Development/16_webwiz_react_proj/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import Button from\"./components/Button\";import Goal from\"./components/Goal\";import Header from\"./components/Header\";import Searchbar from\"./components/Searchbar\";import{useEffect,useState}from\"react\";import NoGoal from\"./components/NoGoal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),goals=_useState2[0],setGoals=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];// fetch the goals data initially\nuseEffect(function(){var getGoals=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var goalsFromServer;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchGoals();case 2:goalsFromServer=_context.sent;setGoals(goalsFromServer);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getGoals(){return _ref.apply(this,arguments);};}();getGoals();},[]);console.log(goals);// fetch goals data\nvar fetchGoals=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5000/goals\");case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchGoals(){return _ref2.apply(this,arguments);};}();// delete goal\nvar deleteGoal=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:5000/goals/\".concat(id),{method:\"DELETE\"});case 2:setGoals(goals.filter(function(goal){return goal.id!==id;}));case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteGoal(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-section\",children:[/*#__PURE__*/_jsx(Searchbar,{onChange:function onChange(e){setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(Button,{text:\"Add Goal\"})]}),goals.length===0?/*#__PURE__*/_jsx(NoGoal,{className:\"no-goal\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"goals-list\",children:goals.filter(function(goal){return searchTerm===\"\"?goal:goal.goal.toLowerCase().includes(searchTerm.toLowerCase());}).map(function(goal,index){return/*#__PURE__*/_jsx(Goal,{goal:goal,onDelete:deleteGoal},index);})})]});}export default App;","map":{"version":3,"names":["Button","Goal","Header","Searchbar","useEffect","useState","NoGoal","App","goals","setGoals","searchTerm","setSearchTerm","getGoals","fetchGoals","goalsFromServer","console","log","fetch","res","json","data","deleteGoal","id","method","filter","goal","e","target","value","length","toLowerCase","includes","map","index"],"sources":["C:/Users/AnamBasheer/Desktop/Web Development/16_webwiz_react_proj/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport Button from \"./components/Button\";\nimport Goal from \"./components/Goal\";\nimport Header from \"./components/Header\";\nimport Searchbar from \"./components/Searchbar\";\nimport { useEffect, useState } from \"react\";\nimport NoGoal from \"./components/NoGoal\";\n\nfunction App() {\n  const [goals, setGoals] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  // fetch the goals data initially\n  useEffect(() => {\n    const getGoals = async () => {\n      const goalsFromServer = await fetchGoals();\n\n      setGoals(goalsFromServer);\n    };\n    getGoals();\n  }, []);\n\n  console.log(goals);\n\n  // fetch goals data\n  const fetchGoals = async () => {\n    const res = await fetch(\"http://localhost:5000/goals\");\n    const data = await res.json();\n\n    return data;\n  };\n\n  // delete goal\n  const deleteGoal = async (id) => {\n    await fetch(`http://localhost:5000/goals/${id}`, {\n      method: \"DELETE\",\n    });\n    setGoals(goals.filter((goal) => goal.id !== id));\n  };\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <div className=\"main-section\">\n        <Searchbar\n          onChange={(e) => {\n            setSearchTerm(e.target.value);\n          }}\n        />\n        <Button text=\"Add Goal\" />\n      </div>\n      {goals.length === 0 ? (\n        <NoGoal className=\"no-goal\" />\n      ) : (\n        <ul className=\"goals-list\">\n          {goals\n            .filter((goal) => {\n              return searchTerm === \"\"\n                ? goal\n                : goal.goal.toLowerCase().includes(searchTerm.toLowerCase());\n            })\n            .map((goal, index) => {\n              return <Goal goal={goal} key={index} onDelete={deleteGoal} />;\n            })}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"qdAAA,MAAO,WAAW,CAClB,MAAOA,OAAM,KAAM,qBAAqB,CACxC,MAAOC,KAAI,KAAM,mBAAmB,CACpC,MAAOC,OAAM,KAAM,qBAAqB,CACxC,MAAOC,UAAS,KAAM,wBAAwB,CAC9C,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,OAAM,KAAM,qBAAqB,CAAC,wFAEzC,QAASC,IAAG,EAAG,CACb,cAA0BF,QAAQ,CAAC,EAAE,CAAC,wCAA/BG,KAAK,eAAEC,QAAQ,eACtB,eAAoCJ,QAAQ,CAAC,EAAE,CAAC,yCAAzCK,UAAU,eAAEC,aAAa,eAEhC;AACAP,SAAS,CAAC,UAAM,CACd,GAAMQ,SAAQ,4FAAG,+KACeC,WAAU,EAAE,QAApCC,eAAe,eAErBL,QAAQ,CAACK,eAAe,CAAC,CAAC,sDAC3B,kBAJKF,SAAQ,0CAIb,CACDA,QAAQ,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAENG,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC,CAElB;AACA,GAAMK,WAAU,6FAAG,8KACCI,MAAK,CAAC,6BAA6B,CAAC,QAAhDC,GAAG,uCACUA,IAAG,CAACC,IAAI,EAAE,QAAvBC,IAAI,iDAEHA,IAAI,0DACZ,kBALKP,WAAU,2CAKf,CAED;AACA,GAAMQ,WAAU,6FAAG,kBAAOC,EAAE,+IACpBL,MAAK,uCAAgCK,EAAE,EAAI,CAC/CC,MAAM,CAAE,QACV,CAAC,CAAC,QACFd,QAAQ,CAACD,KAAK,CAACgB,MAAM,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACH,EAAE,GAAKA,EAAE,GAAC,CAAC,CAAC,wDAClD,kBALKD,WAAU,6CAKf,CAED,mBACE,aAAK,SAAS,CAAC,KAAK,wBAClB,KAAC,MAAM,IAAG,cACV,aAAK,SAAS,CAAC,cAAc,wBAC3B,KAAC,SAAS,EACR,QAAQ,CAAE,kBAACK,CAAC,CAAK,CACff,aAAa,CAACe,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC/B,CAAE,EACF,cACF,KAAC,MAAM,EAAC,IAAI,CAAC,UAAU,EAAG,GACtB,CACLpB,KAAK,CAACqB,MAAM,GAAK,CAAC,cACjB,KAAC,MAAM,EAAC,SAAS,CAAC,SAAS,EAAG,cAE9B,WAAI,SAAS,CAAC,YAAY,UACvBrB,KAAK,CACHgB,MAAM,CAAC,SAACC,IAAI,CAAK,CAChB,MAAOf,WAAU,GAAK,EAAE,CACpBe,IAAI,CACJA,IAAI,CAACA,IAAI,CAACK,WAAW,EAAE,CAACC,QAAQ,CAACrB,UAAU,CAACoB,WAAW,EAAE,CAAC,CAChE,CAAC,CAAC,CACDE,GAAG,CAAC,SAACP,IAAI,CAAEQ,KAAK,CAAK,CACpB,mBAAO,KAAC,IAAI,EAAC,IAAI,CAAER,IAAK,CAAa,QAAQ,CAAEJ,UAAW,EAA5BY,KAAK,CAA0B,CAC/D,CAAC,CAAC,EAEP,GACG,CAEV,CAEA,cAAe1B,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}